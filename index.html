<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hotel Management - Login</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Style for the tab container */
    .auth-tabs {
      display: flex;
      border-bottom: 1px solid #dee2e6;
      margin-bottom: 20px;
    }

    /* General style for tab buttons */
    .tab-btn {
      flex: 1; /* Each tab takes equal width */
      padding: 12px 10px;
      border: none;
      background-color: transparent;
      cursor: pointer;
      font-size: 16px;
      color: #555;
      transition: all 0.2s ease-in-out;
      border-bottom: 3px solid transparent;
      margin-bottom: -1px; /* Aligns the bottom border with the container's border */
    }

    /* Style for the active tab */
    .tab-btn.active {
      color: #007bff;
      border-bottom-color: #007bff;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      width: 300px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .modal-buttons {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    .confirm-btn {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      background-color: #007bff;
      color: white;
    }
  </style>
</head>
<body>
  <div class="auth-wrapper">
    <div class="auth-card">
      <h2>üè® Hotel Management System</h2>

      <div class="auth-tabs">
        <button id="employeeTabBtn" class="tab-btn active" onclick="showForm('loginForm')">Staff Login</button>
        <button id="guestTabBtn" class="tab-btn" onclick="showForm('guestLoginForm')">Guest Login / Booking</button>
      </div>

      <div id="loginForm" class="auth-form">
        <h3>Login</h3>
        <input type="text" id="loginUsername" placeholder="Username" autocomplete="username" autofocus>
        <input type="password" id="loginPassword" placeholder="Password" autocomplete="current-password">
        <button onclick="login()" type="button">Login</button>
        <button onclick="openForgotPasswordModal()" type="button" style="margin-top: 10px; background-color: #6c757d;">Forgot Password</button>
        <p style="color: #999; font-size: 13px; margin-top: 15px;">
          For Hotel owner account registration, please 
          <a href="mailto:appslead01@outlook.com" style="color: #007bff; text-decoration: none;">contact the administrator</a>.
        </p>
      </div>
      
      <div id="guestLoginForm" class="auth-form" style="display:none;">
        <h3>Book a Room</h3>
        <div id="guestStep1">
              <select id="onlineHotelName" required style="margin-bottom: 10px;">
                <option value="">Select a Hotel</option>
                <!-- Hotel options will be populated by JavaScript -->
              </select>
              <input type="email" id="guestEmail" placeholder="Email Address" autocomplete="email" style="width: 100%; margin-bottom: 10px; padding: 12px 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;">
              <button onclick="sendGuestOtp()" type="button" style="width: 100%;">Send OTP</button>
        </div>
        <div id="guestStep2" style="display:none;">
            <input type="text" id="guestOtp" placeholder="Enter 6-digit OTP" autocomplete="one-time-code" maxlength="6">
            <button onclick="verifyGuestOtp()" type="button">Verify OTP</button>
        </div>
        <div id="guestStep3" style="display:none;">
            <h4>Booking Details</h4>
            <div id="roomAvailability" style="background: #e9f5ff; padding: 10px; border-radius: 6px; margin-bottom: 15px; text-align: left; font-size: 14px;">
                <!-- Availability info will be loaded here -->
            </div>
            <input type="text" id="onlineGuestName" placeholder="Your Full Name" required>
             <select id="onlineRoomType" required>
                 <option value="">Select Room Type</option>
                 <option value="AC">AC</option>
                 <option value="Non-AC">Non-AC</option>
                 <option value="Single Bed">Single Bed</option>
                 <option value="Double Bed">Double Bed</option>
                 <option value="Luxury">Luxury</option>
                 <option value="Super Luxury">Super Luxury</option>
             </select>
            <button onclick="bookRoomOnline()" type="button">Book My Room</button> 
        </div>
      </div>

    </div>
  </div>

  <!-- Forgot Password Modal -->
  <div id="forgotPasswordModal" class="modal">
    <div class="modal-content">
        <h3 style="margin-top: 0;">Reset Password</h3>
        <p style="font-size: 14px; color: #666; margin-bottom: 15px;">Enter your registered email to receive an OTP.</p>
        <input type="email" id="forgotEmail" placeholder="Enter your email" style="width: 100%; padding: 10px; margin-bottom: 10px; box-sizing: border-box;">
        <div id="forgotOtpSection" style="display:none;">
            <input type="text" id="forgotOtp" placeholder="Enter OTP" maxlength="6" style="width: 100%; padding: 10px; margin-bottom: 10px; box-sizing: border-box;">
        </div>
        <div class="modal-buttons">
            <button id="forgotActionBtn" class="confirm-btn" onclick="sendForgotOtp()">Send OTP</button>
            <button class="cancel-btn" onclick="closeForgotPasswordModal()">Cancel</button>
        </div>
    </div>
  </div>

  <!-- Modal for Alerts/Confirmations -->
  <div id="actionModal" class="modal">
    <div id="modalBox" class="modal-content">
      <!-- Content injected by JS -->
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>